<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Select State & Category - VendPlug</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #00cc99;
      --bg-dark: #121212;
      --bg-card: #1e1e1e;
      --bg-secondary: #2c2c2c;
      --text-light: #fff;
      --muted: #aaa;
      --accent: #00cc99;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-light);
      margin: 0;
      padding-bottom: 20px;
    }

    /* Header Styles */
    .header {
      background-color: var(--bg-card);
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo {
      width: 40px;
      height: 40px;
      background-color: var(--primary);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 20px;
    }

    .header h2 {
      margin: 0;
      color: var(--primary);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .cart-icon {
      position: relative;
      color: var(--text-light);
      font-size: 1.2rem;
    }

    .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background-color: var(--primary);
      color: #000;
      font-size: 0.7rem;
      font-weight: bold;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Hamburger Menu */
    .menu-toggle {
      background: none;
      border: none;
      color: var(--text-light);
      font-size: 1.5rem;
      cursor: pointer;
    }

        /* Vendor Button */
        .vendor-button-container {
      padding: 1rem;
      background: var(--bg-card);
      margin-bottom: 1px;
    }

    .vendor-button {
      width: 100%;
      padding: 1rem;
      border: none;
      border-radius: 8px;
      background-color: var(--primary);
      color: #000;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }


    .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 999;
      display: none;
    }

    .side-menu {
      position: fixed;
      top: 0;
      left: -300px;
      width: 300px;
      height: 100%;
      background: var(--bg-card);
      z-index: 1000;
      padding: 1.5rem;
      overflow-y: auto;
      transition: left 0.3s ease;
    }

    .side-menu.active {
      left: 0;
    }

    .menu-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .menu-header h3 {
      color: var(--primary);
    }

    .close-menu {
      background: none;
      border: none;
      color: var(--text-light);
      font-size: 1.5rem;
      cursor: pointer;
    }

    .menu-section {
      margin-bottom: 1.5rem;
    }

    .menu-section h4 {
      color: var(--primary);
      margin-bottom: 0.8rem;
      font-size: 1rem;
    }

    .menu-links {
      list-style: none;
    }

    .menu-links li {
      margin-bottom: 0.5rem;
    }

    .menu-links a {
      display: block;
      padding: 0.8rem 1rem;
      color: var(--text-light);
      text-decoration: none;
      border-radius: 8px;
      transition: all 0.3s;
    }

    .menu-links a:hover {
      background: var(--bg-secondary);
      color: var(--primary);
    }

    /* Main Content */
    .container {
      padding: 1.5rem;
      max-width: 1000px;
      margin: 0 auto;
    }

    /* State Selection */
    .state-selection {
      background: var(--bg-card);
      padding: 1.5rem;
      border-radius: 12px;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .section-title {
      font-size: 1.2rem;
      color: var(--primary);
      margin-bottom: 1rem;
    }

    .state-select {
      width: 100%;
      padding: 0.9rem 1rem;
      border-radius: 8px;
      border: none;
      background: var(--bg-secondary);
      color: var(--text-light);
      font-family: inherit;
      font-size: 1rem;
    }

    /* Category Sections */
    .category-section {
      margin-bottom: 2rem;
    }

    .category-header {
      font-size: 1.2rem;
      color: var(--primary);
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .category-scroll {
      display: flex;
      overflow-x: auto;
      gap: 1rem;
      padding: 0.5rem 0.5rem 1.5rem;
      scroll-snap-type: x mandatory;
    }

    .category-scroll::-webkit-scrollbar {
      height: 8px;
    }

    .category-scroll::-webkit-scrollbar-thumb {
      background-color: var(--primary);
      border-radius: 4px;
    }

    .category-card {
      background: var(--bg-card);
      border-radius: 12px;
      width: 160px;
      flex: 0 0 auto;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transition: transform 0.3s;
      cursor: pointer;
      scroll-snap-align: start;
    }

    .category-card:hover {
      transform: translateY(-5px);
    }

    .category-image {
      width: 100%;
      height: 120px;
      object-fit: cover;
    }

    .category-name {
      padding: 1rem;
      font-size: 0.9rem;
      text-align: center;
      font-weight: 500;
    }

    /* Loading Spinner */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 3rem;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      border-top: 4px solid var(--primary);
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      .header h2 {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <!-- Header with Hamburger, Cart, and Notification -->
  <div class="header">
    <div class="logo-container">
      <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
      </button>
      <h2>Select Category</h2>
    </div>
    
    <div class="header-actions">
      <a href="buyer-vendor-checkout.html" class="cart-icon">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count">3</span>
      </a>
      <!-- Notification icon will be injected here by notifications.js -->
    </div>
  </div>

  <!-- Hamburger Menu -->
  <div class="menu-overlay" id="menuOverlay"></div>
  <div class="side-menu" id="sideMenu">
    <div class="menu-header">
      <h3>Menu</h3>
      <button class="close-menu" id="closeMenu">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="menu-section">
      <h4>VENDORS</h4>
      <ul class="menu-links">
        <li><a href="buyer-vendor-checkout.html"><i class="fas fa-shopping-cart"></i> Cart</a></li>
        <li><a href="buyer-vendor-orders.html"><i class="fas fa-clipboard-list"></i> Orders</a></li>
      </ul>
    </div>

    <div class="menu-section">
      <h4>AGENTS</h4>
      <ul class="menu-links">
        <li><a href="buyer-agent-checkout.html"><i class="fas fa-shopping-cart"></i> Cart</a></li>
        <li><a href="buyer-agent-orders.html"><i class="fas fa-clipboard-list"></i> Orders</a></li>
        <li><a href="buyer-list.html"><i class="fas fa-list"></i> Custom List</a></li>
      </ul>
    </div>



    <div class="menu-section">
      <ul class="menu-links">
        <li><a href="buyer-wallet.html"><i class="fas fa-wallet"></i> Wallet</a></li>
        <li><a href="buyer-profile.html"><i class="fas fa-user"></i> Profile</a></li>
        <li><a href="create-dispute.html"><i class="fas fa-exclamation-triangle"></i> Create Dispute</a></li>
        <li><a href="my-disputes.html"><i class="fas fa-clipboard-list"></i> My Disputes</a></li>
        <li><a href="support.html"><i class="fas fa-headset"></i> Support</a></li>
        <li><a href="buyer-auth.html"><i class="fas fa-sign-out-alt"></i> Sign Out</a></li>
      </ul>
    </div>
  </div>

    <!-- Vendor Button -->
    <div class="vendor-button-container">
      <button class="vendor-button" onclick="window.location.href='buyer-agent-home.html'">
        <i class="fas fa-store"></i> Shop With an Agent
      </button>
    </div>

  <div class="container">
    <!-- State Selection -->
    <div class="state-selection">
      <h2 class="section-title">Select Your Location</h2>
      <select id="stateSelect" class="state-select">
        <option value="">-- Choose State --</option>
      </select>
    </div>

    <!-- Loading Spinner -->
    <div class="loading" id="loadingSpinner">
      <div class="spinner"></div>
    </div>

    <!-- Category Sections will be dynamically added here -->
    <div id="categorySections"></div>
  </div>

  <script>
    // Menu functionality
    const menuToggle = document.getElementById('menuToggle');
    const closeMenu = document.getElementById('closeMenu');
    const menuOverlay = document.getElementById('menuOverlay');
    const sideMenu = document.getElementById('sideMenu');

    function openMenu() {
      sideMenu.classList.add('active');
      menuOverlay.style.display = 'block';
      document.body.style.overflow = 'hidden';
    }

    function closeMenuFunc() {
      sideMenu.classList.remove('active');
      menuOverlay.style.display = 'none';
      document.body.style.overflow = 'auto';
    }

    menuToggle.addEventListener('click', openMenu);
    closeMenu.addEventListener('click', closeMenuFunc);
    menuOverlay.addEventListener('click', closeMenuFunc);

    // Grouped categories based on your comments
    const groupedCategories = [
      {
        groupName: "Everyday Essentials",
        categories: [
          { name: "Supermarkets/Groceries and Provisions", image: "/assets/groceries.jpg" },
          { name: "Soft Drinks & Water", image: "/assets/soft-drinks.jpg" },
          { name: "Kitchen Utensils & Plastics", image: "/assets/kitchen-utensils.jpg" },
          { name: "Gas Plants", image: "/assets/gas.jpg" },
          { name: "Fruits & Vegetables", image: "/assets/fruits-vegetables.jpg" },
          { name: "Grains", image: "/assets/grains.jpg" }
        ]
      },
      {
        groupName: "Meat & Animal Products",
        categories: [
          { name: "Suya & Balango", image: "/assets/suya.jpg" },
          { name: "Raw Meat Sellers", image: "/assets/meat.jpg" },
          { name: "Poultry (Chicken, Eggs, Turkey)", image: "/assets/poultry.jpg" },
          { name: "Livestock (Goat, Ram, Cow)", image: "/assets/livestock.jpg" },
          { name: "Fish & Seafood", image: "/assets/fish.jpg" }
        ]
      },
      {
        groupName: "Food & Hospitality",
        categories: [
          { name: "Restaurants", image: "/assets/restaurants.jpg" },
          { name: "Catering & Small Chops", image: "/assets/catering.jpg" },
          { name: "Hotels & Apartments", image: "/assets/hotels.jpg" },
          { name: "Event Rentals (Canopies, Chairs)", image: "/assets/event-rentals.jpg" }
        ]
      },
      {
        groupName: "Fashion & Lifestyle",
        categories: [
          { name: "Boutiques", image: "/assets/boutiques.jpg" },
          { name: "Thrift / Okrika / Gongo", image: "/assets/thrift.jpg" },
          { name: "Tokunbo / Belgium Products", image: "/assets/tokunbo.jpg" },
          { name: "Shoes and Bags", image: "/assets/shoes-bags.jpg" },
          { name: "Jewelry & Accessories", image: "/assets/jewelry.jpg" },
          { name: "Tailoring & Fashion Design", image: "/assets/tailoring.jpg" },
          { name: "Textiles & Fabrics", image: "/assets/textiles.jpg" },
          { name: "Wigs & Hair", image: "/assets/wigs.jpg" },
          { name: "Cosmetics & Skincare", image: "/assets/cosmetics.jpg" },
          { name: "Perfumes & Fragrances", image: "/assets/perfumes.jpg" },
          { name: "Nigerian Caps e.g. Zana", image: "/assets/caps.jpg" }
        ]
      },
      {
        groupName: "Home & Living",
        categories: [
          { name: "Furniture", image: "/assets/furniture.jpg" },
          { name: "Home Appliances", image: "/assets/home-appliances.jpg" },
          { name: "Interior Decor & Curtains", image: "/assets/interior.jpg" },
          { name: "Cleaning Services", image: "/assets/cleaning.jpg" },
          { name: "Flowers & Gardens", image: "/assets/flowers.jpg" }
        ]
      },
      {
        groupName: "Building & Construction",
        categories: [
          { name: "Building Materials", image: "/assets/building-materials.jpg" },
          { name: "Aluminium & Roofing", image: "/assets/aluminium.jpg" },
          { name: "Cement, Blocks & Interlock", image: "/assets/cement.jpg" },
          { name: "Gravel, Sharp Sand & Quarry", image: "/assets/sand.jpg" },
          { name: "Electrical Supplies", image: "/assets/electrical.jpg" },
          { name: "Plumbing Materials", image: "/assets/plumbing.jpg" },
          { name: "Tiles & Paints", image: "/assets/tiles.jpg" },
          { name: "Metal & Iron Works", image: "/assets/metal.jpg" },
          { name: "Carpenters & Artisans", image: "/assets/carpenters.jpg" }
        ]
      },
      {
        groupName: "Health & Beauty",
        categories: [
          { name: "Pharmacy & Patent Stores", image: "/assets/pharmacy.jpg" },
          { name: "Hospital & Medical Equipment", image: "/assets/medical-equipment.jpg" },
          { name: "Herbal Medicine", image: "/assets/herbal.jpg" },
          { name: "Maternity & Clinics", image: "/assets/maternity.jpg" },
          { name: "Fitness & Supplements", image: "/assets/fitness.jpg" }
        ]
      },
      {
        groupName: "Electronics & Gadgets",
        categories: [
          { name: "Phones & Accessories / Laptops & Computers", image: "/assets/phones.jpg" },
          { name: "Solar & Inverters", image: "/assets/solar.jpg" },
          { name: "CCTV & Security Devices", image: "/assets/cctv.jpg" },
          { name: "Game Consoles & Accessories", image: "/assets/games.jpg" }
        ]
      },
      {
        groupName: "Office & Services",
        categories: [
          { name: "Printing Press", image: "/assets/printing.jpg" },
          { name: "Stationery & Office Supplies", image: "/assets/stationery.jpg" },
          { name: "Internet & Data Services", image: "/assets/internet.jpg" },
          { name: "Freelancers & Digital Services", image: "/assets/freelancers.jpg" }
        ]
      },
      {
        groupName: "Auto & Transport",
        categories: [
          { name: "Car Dealers / Tokunbo Cars", image: "/assets/cars.jpg" },
          { name: "Car Spare Parts", image: "/assets/spare-parts.jpg" },
          { name: "Auto Mechanics", image: "/assets/mechanics.jpg" },
          { name: "Tyres, Batteries & Accessories", image: "/assets/tyres.jpg" },
          { name: "Car Wash & Detailing", image: "/assets/car-wash.jpg" }
        ]
      },
      {
        groupName: "Laundry & Cleaning",
        categories: [
          { name: "Laundry Services", image: "/assets/laundry.jpg" },
          { name: "Dry Cleaning", image: "/assets/dry-cleaning.jpg" },
          { name: "House Cleaning", image: "/assets/house-cleaning.jpg" }
        ]
      },
      {
        groupName: "Agriculture",
        categories: [
          { name: "Animal Feed & Supplements", image: "/assets/animal-feed.jpg" },
          { name: "Fish Farming", image: "/assets/fish-farming.jpg" }
        ]
      },
      {
        groupName: "Pets",
        categories: [
          { name: "Pets (Dogs, Cats, Birds)", image: "/assets/pets.jpg" },
          { name: "Pet Food & Accessories", image: "/assets/pet-food.jpg" },
          { name: "Veterinary Clinics", image: "/assets/veterinary.jpg" },
          { name: "Pet Grooming", image: "/assets/pet-grooming.jpg" }
        ]
      },
      {
        groupName: "Real Estate",
        categories: [
          { name: "Real Estate Agents", image: "/assets/real-estate.jpg" },
          { name: "Rentals & Sales", image: "/assets/rentals.jpg" },
          { name: "Facility Management", image: "/assets/facility.jpg" },
          { name: "Movers & Packers", image: "/assets/movers.jpg" }
        ]
      },
      {
        groupName: "Professional Services",
        categories: [
          { name: "Legal Services", image: "/assets/legal.jpg" },
          { name: "Accounting & Tax", image: "/assets/accounting.jpg" },
          { name: "Private Tutors", image: "/assets/tutors.jpg" },
          { name: "Event Planners", image: "/assets/event-planners.jpg" },
          { name: "Photography & Videography", image: "/assets/photography.jpg" },
          { name: "Tech Repairs", image: "/assets/tech-repairs.jpg" }
        ]
      },
      {
        groupName: "Other",
        categories: [
          { name: "Other", image: "/assets/other.jpg" }
        ]
      }
    ];

    document.addEventListener('DOMContentLoaded', () => {
      const states = [
        'Abia', 'Adamawa', 'Akwa Ibom', 'Anambra', 'Bauchi', 'Bayelsa', 'Benue', 'Borno',
        'Cross River', 'Delta', 'Ebonyi', 'Edo', 'Ekiti', 'Enugu', 'FCT', 'Gombe',
        'Imo', 'Jigawa', 'Kaduna', 'Kano', 'Katsina', 'Kebbi', 'Kogi', 'Kwara',
        'Lagos', 'Nasarawa', 'Niger', 'Ogun', 'Ondo', 'Osun', 'Oyo', 'Plateau',
        'Rivers', 'Sokoto', 'Taraba', 'Yobe', 'Zamfara'
      ];

      const stateSelect = document.getElementById('stateSelect');
      const categorySections = document.getElementById('categorySections');
      const loadingSpinner = document.getElementById('loadingSpinner');

      // Populate state dropdown
      states.forEach(state => {
        const option = document.createElement('option');
        option.value = state;
        option.textContent = state;
        if (state === 'FCT') option.selected = true;
        stateSelect.appendChild(option);
      });

      // Show categories after a brief delay (simulating loading)
      setTimeout(() => {
        loadingSpinner.style.display = 'none';
        renderCategorySections();
      }, 1000);

      // Handle state change
      stateSelect.addEventListener('change', () => {
        if (stateSelect.value) {
          // You could add logic here to filter categories by state if needed
        }
      });

      function renderCategorySections() {
        groupedCategories.forEach(group => {
          const section = document.createElement('div');
          section.className = 'category-section';
          
          const header = document.createElement('h2');
          header.className = 'category-header';
          header.textContent = group.groupName;
          
          const scrollContainer = document.createElement('div');
          scrollContainer.className = 'category-scroll';
          
          group.categories.forEach(category => {
            const card = document.createElement('div');
            card.className = 'category-card';
            
            card.innerHTML = `
              <img src="${category.image}" alt="${category.name}" class="category-image" onerror="this.src='https://placehold.co/160x120/2c2c2c/00cc99/png?text=Category'">
              <div class="category-name">${category.name}</div>
            `;
            
            card.addEventListener('click', () => {
              const selectedState = stateSelect.value;
              if (!selectedState) {
                alert('Please select a state first.');
                return;
              }

              const query = new URLSearchParams({
                state: selectedState,
                category: category.name
              }).toString();

              window.location.href = `/vendor-shop.html?${query}`;
            });
            
            scrollContainer.appendChild(card);
          });
          
          section.appendChild(header);
          section.appendChild(scrollContainer);
          categorySections.appendChild(section);
        });
      }
    });
    
  </script>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="/js/config.js"></script>
    <script src="/js/notifications.js"></script>
</body>
</html>
